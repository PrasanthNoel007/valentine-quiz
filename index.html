<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Valentine Quiz ğŸ’œ</title>

<style>
body{margin:0;font-family:'Comic Sans MS',cursive;background:linear-gradient(135deg,#f6d6ff,#ffd6f0);overflow:hidden;transition:background .4s}

/* FULL SIZE LOVE SLIDER RESTORED */
input[type=range]{
 width:100%;
 height:28px;
 cursor:pointer;
}

.heart{position:fixed;bottom:-20px;font-size:20px;animation:floatUp linear infinite;opacity:.7;z-index:1}
@keyframes floatUp{from{transform:translateY(0)}to{transform:translateY(-110vh);opacity:0}}

.confetti{position:fixed;top:-10px;width:10px;height:10px;border-radius:2px;animation:confettiFall 3s linear forwards;z-index:1001;pointer-events:none}
@keyframes confettiFall{from{transform:translateY(-10vh) rotate(0deg)}to{transform:translateY(110vh) rotate(720deg)}}

.heartBurst{position:fixed;font-size:26px;pointer-events:none;animation:heartExplode 2s ease-out forwards;z-index:1001}
@keyframes heartExplode{0%{opacity:1;transform:translate(0,0) scale(1)}100%{opacity:0;transform:translate(var(--x),var(--y)) scale(1.8)}}

.finalHeart{position:fixed;font-size:26px;animation:finalFloat 4s linear forwards;pointer-events:none;z-index:1001}
@keyframes finalFloat{0%{opacity:1;transform:translateY(0)}100%{opacity:0;transform:translateY(-120vh) scale(1.6)}}

.finalText{font-size:2.6rem;color:#c056a1;animation:pulseGlow 2s infinite alternate}
@keyframes pulseGlow{from{text-shadow:0 0 10px #ffb6e6,0 0 20px #ffb6e6}to{text-shadow:0 0 30px #ff66c4,0 0 50px #ff66c4}}

.container{background:#fff;padding:20px;border-radius:20px;width:90%;max-width:420px;margin:60px auto;box-shadow:0 10px 25px rgba(0,0,0,.15);text-align:center}
h1{color:#c056a1;font-size:1.6rem}
.screen{display:none}.screen.active{display:block}
button{background:#ff8ad6;border:none;padding:12px 22px;border-radius:20px;color:#fff;font-size:16px;cursor:pointer;margin-top:15px}
button:hover{background:#ff66c4}
.modal{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:none;justify-content:center;align-items:center}
.modal-content{background:#fff;padding:25px;border-radius:20px;text-align:center;width:85%;max-width:300px}

#finalLove{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(135deg,#f6d6ff,#ffd6f0);z-index:999;display:none;justify-content:center;align-items:center;flex-direction:column}
</style>
</head>
<body>

<script>
for(let i=0;i<20;i++){const h=document.createElement('div');h.className='heart';h.innerHTML='ğŸ’œ';h.style.left=Math.random()*100+'vw';h.style.animationDuration=(5+Math.random()*5)+'s';document.body.appendChild(h);} 
</script>

<div class="container">
<h1>ğŸ§¸ğŸ± Valentine Quiz ğŸ’œğŸ’—</h1>

<div class="screen active" id="q1">
<b>Who has got more attitude?</b><br><br>
<input type="radio"> You â¤ï¸<br>
<input type="radio"> Me ğŸ˜<br>
<button onclick="next(1)">Next ğŸ’•</button>
</div>

<div class="screen" id="q2">
<b>Who is more in love?</b><br><br>
<input type="radio"> You ğŸ’–<br>
<input type="radio"> Me ğŸ’˜<br>
<input type="radio"> It's us idiot ğŸ¥°<br>
<button onclick="next(2)">Next ğŸ’•</button>
</div>

<div class="screen" id="q3">
<b>How much do you love me?</b><br><br>
0 <input type="range" min="0" max="1000" value="500" oninput="handleLoveSlider(this)"> âˆ
<div>Love meter: <span id="loveValue">500</span></div>
<button onclick="next(3)">Next ğŸ’•</button>
</div>

<div class="screen" id="q4"><b>Who flirts more? ğŸ˜</b><br><br>
<input type="radio"> You ğŸ˜‰<br>
<input type="radio"> Me ğŸ˜<br>
<input type="radio"> Both ğŸ”¥<br>
<button onclick="next(4)">Next ğŸ’•</button>
</div>

<div class="screen" id="q5"><b>Who steals more kisses? ğŸ˜˜</b><br><br>
<input type="radio"> You ğŸ˜‡<br>
<input type="radio"> Me ğŸ˜ˆ<br>
<input type="radio"> Equal ğŸ’‹<br>
<button onclick="next(5)">Next ğŸ’•</button>
</div>

<div class="screen" id="q6"><b>Your favourite thing about me? â¤ï¸</b><br><br>
<input type="radio"> Smile ğŸ˜Š<br>
<input type="radio"> Eyes ğŸ˜<br>
<input type="radio"> Everything ğŸ’–<br>
<button onclick="next(6)">Next ğŸ’•</button>
</div>

<div class="screen" id="q7"><b>Who gets more butterflies? ğŸ¦‹</b><br><br>
<input type="radio"> You ğŸ¥°<br>
<input type="radio"> Me ğŸ’<br>
<input type="radio"> Both ğŸ’“<br>
<button onclick="next(7)">Next ğŸ’•</button>
</div>

<div class="screen" id="q8"><b>Dream romantic plan together? ğŸŒ™</b><br><br>
<input type="radio"> Date ğŸ·<br>
<input type="radio"> Beach ğŸŒŠ<br>
<input type="radio"> Anywhere â¤ï¸<br>
<button onclick="next(8)">Next ğŸ’•</button>
</div>

<div class="screen" id="q9"><b>One word for our love? ğŸ’•</b><br><br>
<input type="radio"> Magical âœ¨<br>
<input type="radio"> Crazy fun ğŸ˜œ<br>
<input type="radio"> Forever â¤ï¸â€ğŸ”¥<br>
<button onclick="next(9)">Next ğŸ’•</button>
</div>

<div class="screen" id="q10"><b>Last oneâ€¦ Ready for forever together? ğŸ’</b><br><br>
<input type="radio"> Already yes ğŸ’–<br>
<input type="radio"> 100% yes ğŸ˜˜<br>
<input type="radio"> Always yes â¤ï¸â€ğŸ”¥<br>
<button onclick="showValentine()">Finish ğŸ’˜</button>
</div>

</div>

<div class="modal" id="valentineModal">
<div class="modal-content">
<h2>Will you be my Valentine? ğŸ’˜</h2>
<button onclick="yesAnswer()">Yes ğŸ’–</button>
<button onclick="noAnswer()">No ğŸ˜œ</button>
</div>
</div>

<div class="modal" id="invalidModal">
<div class="modal-content">
<h2>This option is invalid âŒ<br>No not accepted ğŸ˜œ</h2>
<button onclick="retryLast()">Try Again ğŸ’œ</button>
</div>
</div>

<div id="finalLove">
<div class="finalText">ğŸ’œ I LOVE YOU BANGARAM ğŸ’œ</div>
</div>

<audio id="loveSong" src="Beginning Middle End.mp3" preload="auto" playsinline></audio>

<script>
function next(n){document.getElementById('q'+n).classList.remove('active');document.getElementById('q'+(n+1)).classList.add('active');}
function showValentine(){document.getElementById('valentineModal').style.display='flex';}

/* RESTORED LOVE SLIDER ANIMATION */
let lastEmojiTime=0;

function handleLoveSlider(slider){
 const value=slider.value;
 loveValue.innerText=value;

 // slow down emoji spawning (every ~350ms max)
 const now=Date.now();
 if(now-lastEmojiTime<350) return;
 lastEmojiTime=now;

 if(value<300){
  document.body.style.background='linear-gradient(135deg,#ffb3b3,#ff4d4d)';
  spawnEmoji('ğŸ˜¡');
 }
 else if(value>700){
  document.body.style.background='linear-gradient(135deg,#ffd6f0,#f6d6ff)';
  spawnEmoji('ğŸ’–');
  spawnEmoji('ğŸ˜˜');
 }
 else{
  document.body.style.background='linear-gradient(135deg,#f6d6ff,#ffd6f0)';
 }
}

function spawnEmoji(emoji){
 const e=document.createElement('div');
 e.style.position='fixed';
 e.style.fontSize='26px';
 e.style.left=(window.innerWidth/2+(Math.random()*120-60))+'px';
 e.style.top=(window.innerHeight/2)+'px';
 e.style.animation='floatUp 4s forwards'; /* slower animation */
 e.innerHTML=emoji;
 document.body.appendChild(e);
 setTimeout(()=>e.remove(),4000); /* slower fade */
}

const audio=document.getElementById('loveSong');
audio.volume=0.2;

function yesAnswer(){
 document.getElementById('valentineModal').style.display='none';
 document.getElementById('finalLove').style.display='flex';
 audio.play().catch(()=>{});
 fadeInMusic();
 launchConfetti();
 launchHeartFireworks();
 startFinalHearts();
}

function fadeInMusic(){
 let vol=0.2;
 const fade=setInterval(()=>{
  if(vol>=1){clearInterval(fade);return;}
  vol+=0.05;
  audio.volume=vol;
 },200);
}

function startFinalHearts(){
 setInterval(()=>{
  const h=document.createElement('div');
  h.className='finalHeart';
  h.innerHTML=['ğŸ’–','ğŸ’œ','â¤ï¸','ğŸ˜˜','ğŸ’•'][Math.floor(Math.random()*5)];
  h.style.left=Math.random()*100+'vw';
  h.style.bottom='-20px';
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),4000);
 },200);
}

function launchHeartFireworks(){
 for(let i=0;i<40;i++){
  const e=document.createElement('div');
  e.className='heartBurst';
  e.innerHTML=['ğŸ’–','ğŸ’œ','â¤ï¸','ğŸ’•'][Math.floor(Math.random()*4)];
  e.style.left='50vw';
  e.style.top='50vh';
  e.style.setProperty('--x',(Math.random()*600-300)+'px');
  e.style.setProperty('--y',(Math.random()*600-300)+'px');
  document.body.appendChild(e);
  setTimeout(()=>e.remove(),2000);
 }
}

function launchConfetti(){
 for(let i=0;i<120;i++){
  const c=document.createElement('div');
  c.className='confetti';
  c.style.left=Math.random()*100+'vw';
  c.style.background=['pink','violet','white','#ff66c4'][Math.floor(Math.random()*4)];
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),3000);
 }
}

function noAnswer(){
 document.getElementById('valentineModal').style.display='none';
 document.getElementById('invalidModal').style.display='flex';
}

function retryLast(){
 document.getElementById('invalidModal').style.display='none';
 for(let i=1;i<=10;i++) document.getElementById('q'+i).classList.remove('active');
 document.getElementById('q10').classList.add('active');
}
</script>

</body>
</html>
